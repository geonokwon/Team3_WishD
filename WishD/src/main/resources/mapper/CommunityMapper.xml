<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.teamproject.mapper.CommunityMapper">



	<!-- 공지사항 글쓰기 등록 -->
	<insert id="insertCommunity">
        INSERT INTO community_notice (admin_id, ncommunity_title, ncommunity_content, ncommunity_date, ncommunity_update);
    </insert>
  
	<!-- 공지사항 목록 -->
	<select id="getCommunityList" resultType="com.teamproject.domain.CommunityDTO">
		SELECT * FROM community_notice;
	</select>
	
	<!-- 공지사항 상세 페이지 -->
	<select id="getCommunityById" parameterType="long" resultType="com.teamproject.domain.CommunityDTO">
    	SELECT *
    	FROM
    		community_notice
    	WHERE
    		ncommunity_num = #{ncommunity_num}
	</select>
	
	
	<!-- 공지사항 수정 -->
	<update id="updateCommunity">
		 UPDATE community_notice
    	 	SET 
        		ncommunity_title = #{ncommunity_title},
        		ncommunity_content = #{ncommunity_content},
        		ncommunity_update = NOW()
    		WHERE 
        		admin_id = #{admin_id};
	</update>
	
	<!-- 질문 쓰기 -->
	<insert id="insertCommunityQna">
        INSERT INTO community_Qna (Key, user_no, user_name, qcommunity_title, qcommunity_content, qcommunity_answer, qcommunity_date);
       
    </insert>
  
	<!-- 질문 목록 -->
	<select id="getCommunityQnaList" resultType="com.teamproject.domain.CommunityQnaDTO">
		SELECT * from community_QnA;
	</select>

	<!-- 질문 상세 페이지 -->
	<select id="getCommunityQnaById" parameterType="long" resultType="com.teamproject.domain.CommunityQnaDTO">
    	SELECT *
    	FROM
    		community_QnA
    	WHERE
    		`Key` = #{key}
	</select>
  
</mapper>
